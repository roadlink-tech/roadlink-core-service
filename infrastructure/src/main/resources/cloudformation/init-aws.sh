#!/bin/bash

set -euo pipefail

echo "========================================================================================================================="
echo "========================================== Creating Secrets ============================================================="
echo "========================================================================================================================="

awslocal ssm put-parameter \
  --name /local/roadlink-core-service/rds/credentials \
  --value '{"user":"my_user","password":"my_db_password","url":"jdbc:mysql://db:3306/roadlink_core_db?useSSL=false&requireSSL=false"}' \
  --type "SecureString"

echo "========================================================================================================================="
echo "======================================= Localstack Setup Ends ==========================================================="
echo "========================================================================================================================="