#!/bin/bash

set -euo pipefail

echo "========================================================================================================================="
echo "========================================== Creating Secrets ============================================================="
echo "========================================================================================================================="

# TODO use the following environment variable AWS_DEFAULT_REGION=us-west-2
awslocal ssm put-parameter \
  --name /local/roadlink-core-service/dynamo/credentials \
  --value '{"endpoint":"http://localstack:8000", "region": "us-west-2"}' \
  --type "SecureString"

echo "========================================================================================================================="
echo "======================================= Localstack Setup Ends ==========================================================="
echo "========================================================================================================================="